{
    "version": 3,
    "terraform_version": "0.9.2",
    "serial": 10,
    "lineage": "1687018d-ed8d-4860-b850-44b7ace34481",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {
                "aws_autoscaling_group.tardis_asg.0": {
                    "type": "aws_autoscaling_group",
                    "depends_on": [
                        "aws_elb.tardis",
                        "aws_launch_configuration.tardis",
                        "data.aws_subnet.natdc.*",
                        "null_resource.k8s_cluster"
                    ],
                    "primary": {
                        "id": "pipeline-joe-tardis-asg1",
                        "attributes": {
                            "arn": "arn:aws:autoscaling:us-west-2:517449413234:autoScalingGroup:119a671c-da14-4772-998e-be7e21bf58bf:autoScalingGroupName/pipeline-joe-tardis-asg1",
                            "availability_zones.#": "1",
                            "availability_zones.2487133097": "us-west-2a",
                            "default_cooldown": "300",
                            "desired_capacity": "1",
                            "force_delete": "false",
                            "health_check_grace_period": "300",
                            "health_check_type": "EC2",
                            "id": "pipeline-joe-tardis-asg1",
                            "launch_configuration": "terraform-007cf43c93a091da7aff0c6c3b",
                            "load_balancers.#": "1",
                            "load_balancers.1829020843": "pipeline-joe-tardis-elb",
                            "max_size": "1",
                            "metrics_granularity": "1Minute",
                            "min_size": "1",
                            "name": "pipeline-joe-tardis-asg1",
                            "placement_group": "",
                            "protect_from_scale_in": "false",
                            "suspended_processes.#": "0",
                            "tag.#": "9",
                            "tag.1739728709.key": "Jive_service",
                            "tag.1739728709.propagate_at_launch": "true",
                            "tag.1739728709.value": "us-west-2_jive-infra-pipeline-joe",
                            "tag.1825331496.key": "K8s_cluster",
                            "tag.1825331496.propagate_at_launch": "true",
                            "tag.1825331496.value": "us-west-2_jive-infra-pipeline-joe",
                            "tag.3340473120.key": "Pipeline_phase",
                            "tag.3340473120.propagate_at_launch": "true",
                            "tag.3340473120.value": "pipeline-joe",
                            "tag.335865214.key": "Hostname",
                            "tag.335865214.propagate_at_launch": "true",
                            "tag.335865214.value": "us-west-2_jive-infra-pipeline-joe-tardis1",
                            "tag.347068310.key": "Name",
                            "tag.347068310.propagate_at_launch": "true",
                            "tag.347068310.value": "pipeline-joe-tardis-instance",
                            "tag.3521129239.key": "Service_component",
                            "tag.3521129239.propagate_at_launch": "true",
                            "tag.3521129239.value": "tardis",
                            "tag.3767096825.key": "SLA",
                            "tag.3767096825.propagate_at_launch": "true",
                            "tag.3767096825.value": "non-prod",
                            "tag.4074770484.key": "KubernetesCluster",
                            "tag.4074770484.propagate_at_launch": "true",
                            "tag.4074770484.value": "us-west-2_jive-infra-pipeline-joe",
                            "tag.4279558224.key": "Region",
                            "tag.4279558224.propagate_at_launch": "true",
                            "tag.4279558224.value": "us-west-2",
                            "target_group_arns.#": "0",
                            "termination_policies.#": "0",
                            "vpc_zone_identifier.#": "1",
                            "vpc_zone_identifier.1314426351": "subnet-5e57af17",
                            "wait_for_capacity_timeout": "10m"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_autoscaling_group.tardis_asg.1": {
                    "type": "aws_autoscaling_group",
                    "depends_on": [
                        "aws_elb.tardis",
                        "aws_launch_configuration.tardis",
                        "data.aws_subnet.natdc.*",
                        "null_resource.k8s_cluster"
                    ],
                    "primary": {
                        "id": "pipeline-joe-tardis-asg2",
                        "attributes": {
                            "arn": "arn:aws:autoscaling:us-west-2:517449413234:autoScalingGroup:627179ec-2740-4776-ab93-3531bfbb7952:autoScalingGroupName/pipeline-joe-tardis-asg2",
                            "availability_zones.#": "1",
                            "availability_zones.221770259": "us-west-2b",
                            "default_cooldown": "300",
                            "desired_capacity": "1",
                            "force_delete": "false",
                            "health_check_grace_period": "300",
                            "health_check_type": "EC2",
                            "id": "pipeline-joe-tardis-asg2",
                            "launch_configuration": "terraform-007cf43c93a091da7aff0c6c3b",
                            "load_balancers.#": "1",
                            "load_balancers.1829020843": "pipeline-joe-tardis-elb",
                            "max_size": "1",
                            "metrics_granularity": "1Minute",
                            "min_size": "1",
                            "name": "pipeline-joe-tardis-asg2",
                            "placement_group": "",
                            "protect_from_scale_in": "false",
                            "suspended_processes.#": "0",
                            "tag.#": "9",
                            "tag.1739728709.key": "Jive_service",
                            "tag.1739728709.propagate_at_launch": "true",
                            "tag.1739728709.value": "us-west-2_jive-infra-pipeline-joe",
                            "tag.1825331496.key": "K8s_cluster",
                            "tag.1825331496.propagate_at_launch": "true",
                            "tag.1825331496.value": "us-west-2_jive-infra-pipeline-joe",
                            "tag.3340473120.key": "Pipeline_phase",
                            "tag.3340473120.propagate_at_launch": "true",
                            "tag.3340473120.value": "pipeline-joe",
                            "tag.347068310.key": "Name",
                            "tag.347068310.propagate_at_launch": "true",
                            "tag.347068310.value": "pipeline-joe-tardis-instance",
                            "tag.3521129239.key": "Service_component",
                            "tag.3521129239.propagate_at_launch": "true",
                            "tag.3521129239.value": "tardis",
                            "tag.3767096825.key": "SLA",
                            "tag.3767096825.propagate_at_launch": "true",
                            "tag.3767096825.value": "non-prod",
                            "tag.4074770484.key": "KubernetesCluster",
                            "tag.4074770484.propagate_at_launch": "true",
                            "tag.4074770484.value": "us-west-2_jive-infra-pipeline-joe",
                            "tag.4279558224.key": "Region",
                            "tag.4279558224.propagate_at_launch": "true",
                            "tag.4279558224.value": "us-west-2",
                            "tag.636288995.key": "Hostname",
                            "tag.636288995.propagate_at_launch": "true",
                            "tag.636288995.value": "us-west-2_jive-infra-pipeline-joe-tardis2",
                            "target_group_arns.#": "0",
                            "termination_policies.#": "0",
                            "vpc_zone_identifier.#": "1",
                            "vpc_zone_identifier.893525625": "subnet-14f85973",
                            "wait_for_capacity_timeout": "10m"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_autoscaling_group.tardis_asg.2": {
                    "type": "aws_autoscaling_group",
                    "depends_on": [
                        "aws_elb.tardis",
                        "aws_launch_configuration.tardis",
                        "data.aws_subnet.natdc.*",
                        "null_resource.k8s_cluster"
                    ],
                    "primary": {
                        "id": "pipeline-joe-tardis-asg3",
                        "attributes": {
                            "arn": "arn:aws:autoscaling:us-west-2:517449413234:autoScalingGroup:4e403fd7-fe8d-402e-86bf-7fd1a0df0cf7:autoScalingGroupName/pipeline-joe-tardis-asg3",
                            "availability_zones.#": "1",
                            "availability_zones.2050015877": "us-west-2c",
                            "default_cooldown": "300",
                            "desired_capacity": "1",
                            "force_delete": "false",
                            "health_check_grace_period": "300",
                            "health_check_type": "EC2",
                            "id": "pipeline-joe-tardis-asg3",
                            "launch_configuration": "terraform-007cf43c93a091da7aff0c6c3b",
                            "load_balancers.#": "1",
                            "load_balancers.1829020843": "pipeline-joe-tardis-elb",
                            "max_size": "1",
                            "metrics_granularity": "1Minute",
                            "min_size": "1",
                            "name": "pipeline-joe-tardis-asg3",
                            "placement_group": "",
                            "protect_from_scale_in": "false",
                            "suspended_processes.#": "0",
                            "tag.#": "9",
                            "tag.1739728709.key": "Jive_service",
                            "tag.1739728709.propagate_at_launch": "true",
                            "tag.1739728709.value": "us-west-2_jive-infra-pipeline-joe",
                            "tag.1825331496.key": "K8s_cluster",
                            "tag.1825331496.propagate_at_launch": "true",
                            "tag.1825331496.value": "us-west-2_jive-infra-pipeline-joe",
                            "tag.2208035927.key": "Hostname",
                            "tag.2208035927.propagate_at_launch": "true",
                            "tag.2208035927.value": "us-west-2_jive-infra-pipeline-joe-tardis3",
                            "tag.3340473120.key": "Pipeline_phase",
                            "tag.3340473120.propagate_at_launch": "true",
                            "tag.3340473120.value": "pipeline-joe",
                            "tag.347068310.key": "Name",
                            "tag.347068310.propagate_at_launch": "true",
                            "tag.347068310.value": "pipeline-joe-tardis-instance",
                            "tag.3521129239.key": "Service_component",
                            "tag.3521129239.propagate_at_launch": "true",
                            "tag.3521129239.value": "tardis",
                            "tag.3767096825.key": "SLA",
                            "tag.3767096825.propagate_at_launch": "true",
                            "tag.3767096825.value": "non-prod",
                            "tag.4074770484.key": "KubernetesCluster",
                            "tag.4074770484.propagate_at_launch": "true",
                            "tag.4074770484.value": "us-west-2_jive-infra-pipeline-joe",
                            "tag.4279558224.key": "Region",
                            "tag.4279558224.propagate_at_launch": "true",
                            "tag.4279558224.value": "us-west-2",
                            "target_group_arns.#": "0",
                            "termination_policies.#": "0",
                            "vpc_zone_identifier.#": "1",
                            "vpc_zone_identifier.2291236630": "subnet-dd547485",
                            "wait_for_capacity_timeout": "10m"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_eip.tardis_eip.0": {
                    "type": "aws_eip",
                    "depends_on": [],
                    "primary": {
                        "id": "eipalloc-61d2ba5b",
                        "attributes": {
                            "association_id": "",
                            "domain": "vpc",
                            "id": "eipalloc-61d2ba5b",
                            "instance": "",
                            "network_interface": "",
                            "private_ip": "",
                            "public_ip": "34.209.167.56",
                            "vpc": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_eip.tardis_eip.1": {
                    "type": "aws_eip",
                    "depends_on": [],
                    "primary": {
                        "id": "eipalloc-e89be6d2",
                        "attributes": {
                            "association_id": "",
                            "domain": "vpc",
                            "id": "eipalloc-e89be6d2",
                            "instance": "",
                            "network_interface": "",
                            "private_ip": "",
                            "public_ip": "35.167.249.164",
                            "vpc": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_eip.tardis_eip.2": {
                    "type": "aws_eip",
                    "depends_on": [],
                    "primary": {
                        "id": "eipalloc-fb9fe2c1",
                        "attributes": {
                            "association_id": "",
                            "domain": "vpc",
                            "id": "eipalloc-fb9fe2c1",
                            "instance": "",
                            "network_interface": "",
                            "private_ip": "",
                            "public_ip": "52.43.105.229",
                            "vpc": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_elb.tardis": {
                    "type": "aws_elb",
                    "depends_on": [
                        "aws_security_group.tardis_instance",
                        "null_resource.k8s_cluster"
                    ],
                    "primary": {
                        "id": "pipeline-joe-tardis-elb",
                        "attributes": {
                            "access_logs.#": "0",
                            "availability_zones.#": "1",
                            "availability_zones.2487133097": "us-west-2a",
                            "connection_draining": "false",
                            "connection_draining_timeout": "300",
                            "cross_zone_load_balancing": "true",
                            "dns_name": "internal-pipeline-joe-tardis-elb-841426540.us-west-2.elb.amazonaws.com",
                            "health_check.#": "1",
                            "health_check.0.healthy_threshold": "2",
                            "health_check.0.interval": "30",
                            "health_check.0.target": "TCP:443",
                            "health_check.0.timeout": "3",
                            "health_check.0.unhealthy_threshold": "2",
                            "id": "pipeline-joe-tardis-elb",
                            "idle_timeout": "1800",
                            "instances.#": "3",
                            "instances.2834144734": "i-089ca4a7c4adf62fd",
                            "instances.4068963139": "i-0c9062e39af12b622",
                            "instances.978817413": "i-0234c7dffc0cd5f50",
                            "internal": "true",
                            "listener.#": "1",
                            "listener.610193557.instance_port": "443",
                            "listener.610193557.instance_protocol": "tcp",
                            "listener.610193557.lb_port": "443",
                            "listener.610193557.lb_protocol": "tcp",
                            "listener.610193557.ssl_certificate_id": "",
                            "name": "pipeline-joe-tardis-elb",
                            "security_groups.#": "2",
                            "security_groups.3312350976": "sg-d7198eac",
                            "security_groups.3326166037": "sg-5ac14522",
                            "source_security_group": "517449413234/us-west-2_jive-infra-pipeline-joe-tardis-instance",
                            "source_security_group_id": "sg-d7198eac",
                            "subnets.#": "1",
                            "subnets.1314426351": "subnet-5e57af17",
                            "tags.%": "7",
                            "tags.Hostname": "us-west-2_jive-infra-pipeline-joe-tardis1",
                            "tags.Jive_service": "us-west-2_jive-infra-pipeline-joe",
                            "tags.Name": "pipeline-joe-tardis-elb",
                            "tags.Pipeline_phase": "pipeline-joe",
                            "tags.Region": "us-west-2",
                            "tags.SLA": "non-prod",
                            "tags.Service_component": "tardis",
                            "zone_id": "Z1H1FL5HABSF5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_iam_instance_profile.tardis": {
                    "type": "aws_iam_instance_profile",
                    "depends_on": [
                        "aws_iam_role.tardis",
                        "null_resource.k8s_cluster"
                    ],
                    "primary": {
                        "id": "us-west-2_jive-infra-pipeline-joe-tardis-profile",
                        "attributes": {
                            "arn": "arn:aws:iam::517449413234:instance-profile/us-west-2_jive-infra-pipeline-joe-tardis-profile",
                            "id": "us-west-2_jive-infra-pipeline-joe-tardis-profile",
                            "name": "us-west-2_jive-infra-pipeline-joe-tardis-profile",
                            "path": "/",
                            "roles.#": "1",
                            "roles.3252703876": "us-west-2_jive-infra-pipeline-joe-tardis-role",
                            "unique_id": "AIPAJY5HXPXZHDOGRBRSU"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_iam_role.tardis": {
                    "type": "aws_iam_role",
                    "depends_on": [
                        "null_resource.k8s_cluster"
                    ],
                    "primary": {
                        "id": "us-west-2_jive-infra-pipeline-joe-tardis-role",
                        "attributes": {
                            "arn": "arn:aws:iam::517449413234:role/us-west-2_jive-infra-pipeline-joe-tardis-role",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2017-05-02T17:21:21Z",
                            "id": "us-west-2_jive-infra-pipeline-joe-tardis-role",
                            "name": "us-west-2_jive-infra-pipeline-joe-tardis-role",
                            "path": "/",
                            "unique_id": "AROAJXVYOBEZ6QYQ4GXTM"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_iam_role_policy.tardis": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.tardis",
                        "null_resource.k8s_cluster"
                    ],
                    "primary": {
                        "id": "us-west-2_jive-infra-pipeline-joe-tardis-role:us-west-2_jive-infra-pipeline-joe-tardis-policy",
                        "attributes": {
                            "id": "us-west-2_jive-infra-pipeline-joe-tardis-role:us-west-2_jive-infra-pipeline-joe-tardis-policy",
                            "name": "us-west-2_jive-infra-pipeline-joe-tardis-policy",
                            "policy": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ec2:Describe*\",\n                \"ec2:AttachVolume\",\n                \"ec2:DetachVolume\",\n                \"ec2:AttachNetworkInterface\",\n                \"ec2:DetachNetworkInterface\",\n                \"route53:ListHostedZones\",\n                \"route53:ListResourceRecordSets\",\n                \"rds:Describe*\",\n                \"elasticache:Describe*\",\n                \"s3:GetObject\",\n                \"s3:ListAllMyBuckets\",\n                \"s3:ListBucket\",\n                \"s3:PutObject\",\n                \"s3:CreateBucket\",\n                \"s3:GetBucketLocation\"\n            ],\n            \"Resource\": \"*\"\n        }\n    ]\n}\n",
                            "role": "us-west-2_jive-infra-pipeline-joe-tardis-role"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_launch_configuration.tardis": {
                    "type": "aws_launch_configuration",
                    "depends_on": [
                        "aws_iam_instance_profile.tardis",
                        "aws_security_group.tardis_instance",
                        "data.template_file.cloud_config"
                    ],
                    "primary": {
                        "id": "terraform-007cf43c93a091da7aff0c6c3b",
                        "attributes": {
                            "associate_public_ip_address": "false",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "enable_monitoring": "true",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "us-west-2_jive-infra-pipeline-joe-tardis-profile",
                            "id": "terraform-007cf43c93a091da7aff0c6c3b",
                            "image_id": "ami-4c49f22c",
                            "instance_type": "t2.medium",
                            "key_name": "infra-pipeline",
                            "name": "terraform-007cf43c93a091da7aff0c6c3b",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "0",
                            "root_block_device.0.volume_size": "20",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "2",
                            "security_groups.3312350976": "sg-d7198eac",
                            "security_groups.3326166037": "sg-5ac14522",
                            "spot_price": "",
                            "user_data": "538c4c4166a8689ede32635cbb24798ad98cf4a7",
                            "vpc_classic_link_id": "",
                            "vpc_classic_link_security_groups.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group.tardis_instance": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "data.aws_security_group.k8s_master_instance",
                        "data.aws_security_group.k8s_worker_instance",
                        "null_resource.k8s_cluster"
                    ],
                    "primary": {
                        "id": "sg-d7198eac",
                        "attributes": {
                            "description": "Access to tardis nodes",
                            "egress.#": "0",
                            "id": "sg-d7198eac",
                            "ingress.#": "2",
                            "ingress.372222048.cidr_blocks.#": "0",
                            "ingress.372222048.from_port": "8472",
                            "ingress.372222048.ipv6_cidr_blocks.#": "0",
                            "ingress.372222048.protocol": "udp",
                            "ingress.372222048.security_groups.#": "2",
                            "ingress.372222048.security_groups.3436576440": "sg-71ff7009",
                            "ingress.372222048.security_groups.609225010": "sg-69ff7011",
                            "ingress.372222048.self": "false",
                            "ingress.372222048.to_port": "8472",
                            "ingress.691539513.cidr_blocks.#": "1",
                            "ingress.691539513.cidr_blocks.0": "10.0.0.0/8",
                            "ingress.691539513.from_port": "443",
                            "ingress.691539513.ipv6_cidr_blocks.#": "0",
                            "ingress.691539513.protocol": "tcp",
                            "ingress.691539513.security_groups.#": "0",
                            "ingress.691539513.self": "true",
                            "ingress.691539513.to_port": "443",
                            "name": "us-west-2_jive-infra-pipeline-joe-tardis-instance",
                            "owner_id": "517449413234",
                            "tags.%": "6",
                            "tags.Name": "us-west-2_jive-infra-pipeline-joe-tardis-instance",
                            "tags.jive_service": "tardis",
                            "tags.pipeline_phase": "pipeline-joe",
                            "tags.region": "us-west-2",
                            "tags.service_component": "tardis",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-7271f315"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group_rule.k8s_etcd_instance": {
                    "type": "aws_security_group_rule",
                    "depends_on": [
                        "aws_security_group.tardis_instance",
                        "data.aws_security_group.k8s_etcd_instance"
                    ],
                    "primary": {
                        "id": "sgrule-1549914249",
                        "attributes": {
                            "from_port": "2379",
                            "id": "sgrule-1549914249",
                            "protocol": "tcp",
                            "security_group_id": "sg-60ff7018",
                            "self": "false",
                            "source_security_group_id": "sg-d7198eac",
                            "to_port": "2380",
                            "type": "ingress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group_rule.k8s_master_instance": {
                    "type": "aws_security_group_rule",
                    "depends_on": [
                        "aws_security_group.tardis_instance",
                        "data.aws_security_group.k8s_master_instance"
                    ],
                    "primary": {
                        "id": "sgrule-2505223356",
                        "attributes": {
                            "cidr_blocks.#": "0",
                            "from_port": "8472",
                            "id": "sgrule-2505223356",
                            "ipv6_cidr_blocks.#": "0",
                            "prefix_list_ids.#": "0",
                            "protocol": "udp",
                            "security_group_id": "sg-71ff7009",
                            "self": "false",
                            "source_security_group_id": "sg-d7198eac",
                            "to_port": "8472",
                            "type": "ingress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group_rule.k8s_worker_instance": {
                    "type": "aws_security_group_rule",
                    "depends_on": [
                        "aws_security_group.tardis_instance",
                        "data.aws_security_group.k8s_worker_instance"
                    ],
                    "primary": {
                        "id": "sgrule-3143137625",
                        "attributes": {
                            "cidr_blocks.#": "0",
                            "from_port": "8472",
                            "id": "sgrule-3143137625",
                            "ipv6_cidr_blocks.#": "0",
                            "prefix_list_ids.#": "0",
                            "protocol": "udp",
                            "security_group_id": "sg-69ff7011",
                            "self": "false",
                            "source_security_group_id": "sg-d7198eac",
                            "to_port": "8472",
                            "type": "ingress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.aws_availability_zones.available": {
                    "type": "aws_availability_zones",
                    "depends_on": [],
                    "primary": {
                        "id": "2017-06-30 22:36:53.915601862 +0000 UTC",
                        "attributes": {
                            "id": "2017-06-30 22:36:53.915601862 +0000 UTC",
                            "names.#": "3",
                            "names.0": "us-west-2a",
                            "names.1": "us-west-2b",
                            "names.2": "us-west-2c"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.aws_security_group.k8s_etcd_instance": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "null_resource.k8s_cluster"
                    ],
                    "primary": {
                        "id": "sg-60ff7018",
                        "attributes": {
                            "filter.#": "1",
                            "filter.1726811434.name": "tag:Name",
                            "filter.1726811434.values.#": "1",
                            "filter.1726811434.values.4271427001": "us-west-2_jive-infra-pipeline-joe-etcd-instance",
                            "id": "sg-60ff7018",
                            "name": "us-west-2_jive-infra-pipeline-joe-kubernetes-etcd-instance",
                            "tags.%": "6",
                            "tags.Name": "us-west-2_jive-infra-pipeline-joe-etcd-instance",
                            "tags.jive_service": "k8s",
                            "tags.pipeline_phase": "pipeline-joe",
                            "tags.region": "us-west-2",
                            "tags.service_component": "k8s-etcd",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-7271f315"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.aws_security_group.k8s_master_instance": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "null_resource.k8s_cluster"
                    ],
                    "primary": {
                        "id": "sg-71ff7009",
                        "attributes": {
                            "filter.#": "1",
                            "filter.950998368.name": "tag:Name",
                            "filter.950998368.values.#": "1",
                            "filter.950998368.values.1762380093": "us-west-2_jive-infra-pipeline-joe-master-instance",
                            "id": "sg-71ff7009",
                            "name": "us-west-2_jive-infra-pipeline-joe-master-instance",
                            "tags.%": "6",
                            "tags.Name": "us-west-2_jive-infra-pipeline-joe-master-instance",
                            "tags.jive_service": "k8s",
                            "tags.pipeline_phase": "pipeline-joe",
                            "tags.region": "us-west-2",
                            "tags.service_component": "k8s-master",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-7271f315"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.aws_security_group.k8s_worker_instance": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "null_resource.k8s_cluster"
                    ],
                    "primary": {
                        "id": "sg-69ff7011",
                        "attributes": {
                            "filter.#": "1",
                            "filter.4214208802.name": "tag:Name",
                            "filter.4214208802.values.#": "1",
                            "filter.4214208802.values.2559887203": "us-west-2_jive-infra-pipeline-joe-worker-instance",
                            "id": "sg-69ff7011",
                            "name": "us-west-2_jive-infra-pipeline-joe-worker-instance",
                            "tags.%": "7",
                            "tags.KubernetesCluster": "us-west-2_jive-infra-pipeline-joe",
                            "tags.Name": "us-west-2_jive-infra-pipeline-joe-worker-instance",
                            "tags.jive_service": "k8s",
                            "tags.pipeline_phase": "pipeline-joe",
                            "tags.region": "us-west-2",
                            "tags.service_component": "k8s-worker",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-7271f315"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.aws_subnet.natdc.0": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "data.aws_availability_zones.available"
                    ],
                    "primary": {
                        "id": "subnet-5e57af17",
                        "attributes": {
                            "availability_zone": "us-west-2a",
                            "cidr_block": "10.127.81.0/27",
                            "default_for_az": "false",
                            "id": "subnet-5e57af17",
                            "state": "available",
                            "tags.%": "7",
                            "tags.KubernetesCluster": "us-west-2_jive-infra-pipeline-joe",
                            "tags.Name": "pipeline-joe-natdc-subnet",
                            "tags.account_name": "jive-infra-pipeline",
                            "tags.kubernetes.io/role/internal-elb": "us-west-2_jive-infra-pipeline-joe",
                            "tags.pipeline_phase": "pipeline-joe",
                            "tags.region": "us-west-2",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-7271f315"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.aws_subnet.natdc.1": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "data.aws_availability_zones.available"
                    ],
                    "primary": {
                        "id": "subnet-14f85973",
                        "attributes": {
                            "availability_zone": "us-west-2b",
                            "cidr_block": "10.127.81.32/27",
                            "default_for_az": "false",
                            "id": "subnet-14f85973",
                            "state": "available",
                            "tags.%": "7",
                            "tags.KubernetesCluster": "us-west-2_jive-infra-pipeline-joe",
                            "tags.Name": "pipeline-joe-natdc-subnet",
                            "tags.account_name": "jive-infra-pipeline",
                            "tags.kubernetes.io/role/internal-elb": "us-west-2_jive-infra-pipeline-joe",
                            "tags.pipeline_phase": "pipeline-joe",
                            "tags.region": "us-west-2",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-7271f315"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.aws_subnet.natdc.2": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "data.aws_availability_zones.available"
                    ],
                    "primary": {
                        "id": "subnet-dd547485",
                        "attributes": {
                            "availability_zone": "us-west-2c",
                            "cidr_block": "10.127.81.64/27",
                            "default_for_az": "false",
                            "id": "subnet-dd547485",
                            "state": "available",
                            "tags.%": "7",
                            "tags.KubernetesCluster": "us-west-2_jive-infra-pipeline-joe",
                            "tags.Name": "pipeline-joe-natdc-subnet",
                            "tags.account_name": "jive-infra-pipeline",
                            "tags.kubernetes.io/role/internal-elb": "us-west-2_jive-infra-pipeline-joe",
                            "tags.pipeline_phase": "pipeline-joe",
                            "tags.region": "us-west-2",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-7271f315"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.template_file.cloud_config": {
                    "type": "template_file",
                    "depends_on": [
                        "null_resource.k8s_cluster"
                    ],
                    "primary": {
                        "id": "91dc3de8063435bc690fb4852a81b0190fbc6e8593bc8b7847035efea52c3a58",
                        "attributes": {
                            "id": "91dc3de8063435bc690fb4852a81b0190fbc6e8593bc8b7847035efea52c3a58",
                            "rendered": "#cloud-config\ncoreos:\n  units:\n    - name: bootstrap.service\n      command: start\n      content: |\n        [Unit]\n        Requires=early-docker.service\n        After=early-docker.service\n        Description=Bootstraps the node\n        [Service]\n        Environment=\"DOCKER_HOST=unix:///var/run/early-docker.sock\"\n        Type=oneshot\n        RemainAfterExit=yes\n        ExecStart=/root/bootstrap.sh\n    - name: settimezone.service\n      command: start\n      content: |\n        [Unit]\n        Description=Set the timezone\n        [Service]\n        ExecStart=/usr/bin/timedatectl set-timezone UTC\n        RemainAfterExit=yes\n        Type=oneshot\nupdate:\n    reboot-strategy: off\nssh_authorized_keys:\n  - AAAAB3NzaC1yc2EAAAADAQABAAABAQDdUn7MngzRWLusJ+9S2MSibbJjkxV0fa5D6fUKJnGuYHxgL3vpMi+TLWRUIFv9tmBIxard8nS4/mNu6P0ENm5LmkAYPJngEMbCoQmpk89tbQIrlZrhr5FffP3fJfxzahEtYjEtNuBQuuMwrXN3hvuehVGWEu1lFG6WLYnejL0au2L4CJhCoV2g+b/uqTjsFVHhbGWvuazYL9SJmH2mWqEnbj2tj7goemU88bycisrMIvpKVWhu02KM2FUHgPwtoENi909LTpiD/y+3FzBwa7cpMNjmTmrzPbJTZ7gNNzSpPWHtCejE/B06+7lxSzbeRQP6q1Xb++bcVWODvh6qCb4b\nwrite_files:\n  - path: /etc/hosts\n    permissions: 0644\n    content: |\n      10.160.4.127 docker.phx1.jivehosted.com\n      10.160.70.25 pulp-slave\nwrite_files:\n  - path: /root/parse_manifest.sh\n    permissions: 0755\n    content: |\n      #!/usr/bin/bash\n      jq -c '.clusters[] | select(.clusterName == \"us-west-2_jive-infra-pipeline-joe\") | .ansibleImageVersion' /tmp/cluster_manifest.json\nwrite_files:\n  - path: /root/pam_workaround.sh\n    permissions: 0755\n    content: |\n      #!/usr/bin/bash\n      if [[ -d /lib/pam.d ]]; then\n        rsync -a /lib/pam.d/ /etc/pam.d/\n        sed -i '/pam_systemd.so/d' /etc/pam.d/*\n        sed -i '/pam_nologin.so/d' /etc/pam.d/*\n      fi\nwrite_files:\n  - path: /root/bootstrap.sh\n    permissions: 0755\n    content: |\n      #!/usr/bin/bash\n      #\n      if [ -f /etc/coreos/update.conf ] ; then\n        rm  /etc/coreos/update.conf\n      fi\n\n      declare -r ansible_bucket=https://s3-us-west-2.amazonaws.com/jive-ansible-coreos-jive-infra-prod-usw2\n\n      # Get cluster manifest from S3 bucket\n      curl -XGET -s \\\n      --retry 3 \\\n      --retry-delay 5 \\\n      ${ansible_bucket}/cluster_manifest.json \\\n      --output /tmp/cluster_manifest.json\n\n      # Get ansible-coreos bootstrap script from S3 bucket\n      curl -XGET -s \\\n      --retry 3 \\\n      --retry-delay 5 \\\n      ${ansible_bucket}/run-ansible-container.sh \\\n      --output /tmp/run-ansible-container.sh\n\n      declare -r docker_image=$(bash /root/parse_manifest.sh | sed 's/\"//g')\n      bash -vx /root/pam_workaround.sh\n      bash -vx /tmp/run-ansible-container.sh ${docker_image}\n\n      exit 0\n",
                            "template": "#cloud-config\ncoreos:\n  units:\n    - name: bootstrap.service\n      command: start\n      content: |\n        [Unit]\n        Requires=early-docker.service\n        After=early-docker.service\n        Description=Bootstraps the node\n        [Service]\n        Environment=\"DOCKER_HOST=unix:///var/run/early-docker.sock\"\n        Type=oneshot\n        RemainAfterExit=yes\n        ExecStart=/root/bootstrap.sh\n    - name: settimezone.service\n      command: start\n      content: |\n        [Unit]\n        Description=Set the timezone\n        [Service]\n        ExecStart=/usr/bin/timedatectl set-timezone UTC\n        RemainAfterExit=yes\n        Type=oneshot\nupdate:\n    reboot-strategy: off\nssh_authorized_keys:\n  - ${COREOS_AUTHKEY}\nwrite_files:\n  - path: /etc/hosts\n    permissions: 0644\n    content: |\n      ${DOCKER_REGISTRY}\n      ${PHX_PULP}\nwrite_files:\n  - path: /root/parse_manifest.sh\n    permissions: 0755\n    content: |\n      #!/usr/bin/bash\n      jq -c '.clusters[] | select(.clusterName == \"${KubernetesCluster}\") | .ansibleImageVersion' /tmp/cluster_manifest.json\nwrite_files:\n  - path: /root/pam_workaround.sh\n    permissions: 0755\n    content: |\n      #!/usr/bin/bash\n      if [[ -d /lib/pam.d ]]; then\n        rsync -a /lib/pam.d/ /etc/pam.d/\n        sed -i '/pam_systemd.so/d' /etc/pam.d/*\n        sed -i '/pam_nologin.so/d' /etc/pam.d/*\n      fi\nwrite_files:\n  - path: /root/bootstrap.sh\n    permissions: 0755\n    content: |\n      #!/usr/bin/bash\n      #\n      if [ -f /etc/coreos/update.conf ] ; then\n        rm  /etc/coreos/update.conf\n      fi\n\n      declare -r ansible_bucket=${ANSIBLE_BUCKET}\n\n      # Get cluster manifest from S3 bucket\n      curl -XGET -s \\\n      --retry 3 \\\n      --retry-delay 5 \\\n      $${ansible_bucket}/cluster_manifest.json \\\n      --output /tmp/cluster_manifest.json\n\n      # Get ansible-coreos bootstrap script from S3 bucket\n      curl -XGET -s \\\n      --retry 3 \\\n      --retry-delay 5 \\\n      $${ansible_bucket}/run-ansible-container.sh \\\n      --output /tmp/run-ansible-container.sh\n\n      declare -r docker_image=$$(bash /root/parse_manifest.sh | sed 's/\"//g')\n      bash -vx /root/pam_workaround.sh\n      bash -vx /tmp/run-ansible-container.sh $${docker_image}\n\n      exit 0\n",
                            "vars.%": "5",
                            "vars.ANSIBLE_BUCKET": "https://s3-us-west-2.amazonaws.com/jive-ansible-coreos-jive-infra-prod-usw2",
                            "vars.COREOS_AUTHKEY": "AAAAB3NzaC1yc2EAAAADAQABAAABAQDdUn7MngzRWLusJ+9S2MSibbJjkxV0fa5D6fUKJnGuYHxgL3vpMi+TLWRUIFv9tmBIxard8nS4/mNu6P0ENm5LmkAYPJngEMbCoQmpk89tbQIrlZrhr5FffP3fJfxzahEtYjEtNuBQuuMwrXN3hvuehVGWEu1lFG6WLYnejL0au2L4CJhCoV2g+b/uqTjsFVHhbGWvuazYL9SJmH2mWqEnbj2tj7goemU88bycisrMIvpKVWhu02KM2FUHgPwtoENi909LTpiD/y+3FzBwa7cpMNjmTmrzPbJTZ7gNNzSpPWHtCejE/B06+7lxSzbeRQP6q1Xb++bcVWODvh6qCb4b",
                            "vars.DOCKER_REGISTRY": "10.160.4.127 docker.phx1.jivehosted.com",
                            "vars.KubernetesCluster": "us-west-2_jive-infra-pipeline-joe",
                            "vars.PHX_PULP": "10.160.70.25 pulp-slave"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "null_resource.k8s_cluster": {
                    "type": "null_resource",
                    "depends_on": [],
                    "primary": {
                        "id": "6581705977045148619",
                        "attributes": {
                            "id": "6581705977045148619",
                            "triggers.%": "1",
                            "triggers.name": "us-west-2_jive-infra-pipeline-joe"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        }
    ]
}
