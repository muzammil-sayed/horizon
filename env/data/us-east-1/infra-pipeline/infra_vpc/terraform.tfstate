{
    "version": 3,
    "terraform_version": "0.9.4",
    "serial": 1,
    "lineage": "05ae5f72-d109-40b5-8f0f-709c20cf4601",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {
                "aws_autoscaling_group.bastion": {
                    "type": "aws_autoscaling_group",
                    "depends_on": [
                        "aws_launch_configuration.bastion",
                        "aws_subnet.natdc"
                    ],
                    "primary": {
                        "id": "infra-pipeline-bastion-asg-terraform-00b5be57f99142e12fb69742a2",
                        "attributes": {
                            "arn": "arn:aws:autoscaling:us-east-1:999547976641:autoScalingGroup:e5596216-86fd-4022-b035-87c1774359d5:autoScalingGroupName/infra-pipeline-bastion-asg-terraform-00b5be57f99142e12fb69742a2",
                            "availability_zones.#": "1",
                            "availability_zones.3569565595": "us-east-1a",
                            "default_cooldown": "300",
                            "desired_capacity": "1",
                            "force_delete": "false",
                            "health_check_grace_period": "300",
                            "health_check_type": "EC2",
                            "id": "infra-pipeline-bastion-asg-terraform-00b5be57f99142e12fb69742a2",
                            "launch_configuration": "terraform-00b5be57f99142e12fb69742a2",
                            "load_balancers.#": "0",
                            "max_size": "1",
                            "metrics_granularity": "1Minute",
                            "min_size": "1",
                            "name": "infra-pipeline-bastion-asg-terraform-00b5be57f99142e12fb69742a2",
                            "placement_group": "",
                            "protect_from_scale_in": "false",
                            "suspended_processes.#": "0",
                            "tag.#": "8",
                            "tag.1907427875.key": "pipeline_phase",
                            "tag.1907427875.propagate_at_launch": "true",
                            "tag.1907427875.value": "infra-pipeline",
                            "tag.2149493305.key": "account_name",
                            "tag.2149493305.propagate_at_launch": "true",
                            "tag.2149493305.value": "jive-data-pipeline",
                            "tag.2220074062.key": "sla",
                            "tag.2220074062.propagate_at_launch": "true",
                            "tag.2220074062.value": "non-prod",
                            "tag.2734052481.key": "service_component",
                            "tag.2734052481.propagate_at_launch": "true",
                            "tag.2734052481.value": "bastion",
                            "tag.3357193003.key": "Name",
                            "tag.3357193003.propagate_at_launch": "true",
                            "tag.3357193003.value": "infra-pipeline-bastion-instance",
                            "tag.379152623.key": "region",
                            "tag.379152623.propagate_at_launch": "true",
                            "tag.379152623.value": "us-east-1",
                            "tag.853938758.key": "jive_service",
                            "tag.853938758.propagate_at_launch": "true",
                            "tag.853938758.value": "infrastructure",
                            "tag.904558264.key": "bastionip",
                            "tag.904558264.propagate_at_launch": "true",
                            "tag.904558264.value": "10.127.22.7",
                            "target_group_arns.#": "0",
                            "termination_policies.#": "0",
                            "vpc_zone_identifier.#": "1",
                            "vpc_zone_identifier.3886379842": "subnet-34612f7c",
                            "wait_for_capacity_timeout": "10m"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_customer_gateway.customer_gateway": {
                    "type": "aws_customer_gateway",
                    "depends_on": [],
                    "primary": {
                        "id": "cgw-4d987324",
                        "attributes": {
                            "bgp_asn": "13364",
                            "id": "cgw-4d987324",
                            "ip_address": "204.93.64.130",
                            "tags.%": "5",
                            "tags.Account_name": "jive-data-pipeline",
                            "tags.Name": "infra-pipeline-customer-gateway",
                            "tags.Pipeline_phase": "infra-pipeline",
                            "tags.Region": "us-east-1",
                            "tags.SLA": "non-prod",
                            "type": "ipsec.1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_eip.natgw.0": {
                    "type": "aws_eip",
                    "depends_on": [],
                    "primary": {
                        "id": "eipalloc-69bfad59",
                        "attributes": {
                            "association_id": "eipassoc-9192bca3",
                            "domain": "vpc",
                            "id": "eipalloc-69bfad59",
                            "instance": "",
                            "network_interface": "eni-7a5275a9",
                            "private_ip": "10.127.22.88",
                            "public_ip": "34.207.4.215",
                            "vpc": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_eip.natgw.1": {
                    "type": "aws_eip",
                    "depends_on": [],
                    "primary": {
                        "id": "eipalloc-5db9ab6d",
                        "attributes": {
                            "association_id": "eipassoc-0c92bc3e",
                            "domain": "vpc",
                            "id": "eipalloc-5db9ab6d",
                            "instance": "",
                            "network_interface": "eni-8bf49922",
                            "private_ip": "10.127.22.104",
                            "public_ip": "34.206.252.128",
                            "vpc": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_eip.natgw.2": {
                    "type": "aws_eip",
                    "depends_on": [],
                    "primary": {
                        "id": "eipalloc-a5bba995",
                        "attributes": {
                            "association_id": "eipassoc-0597b937",
                            "domain": "vpc",
                            "id": "eipalloc-a5bba995",
                            "instance": "",
                            "network_interface": "eni-9f228488",
                            "private_ip": "10.127.22.120",
                            "public_ip": "23.23.67.158",
                            "vpc": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_eip.natgw.3": {
                    "type": "aws_eip",
                    "depends_on": [],
                    "primary": {
                        "id": "eipalloc-5cb9ab6c",
                        "attributes": {
                            "association_id": "eipassoc-2f90be1d",
                            "domain": "vpc",
                            "id": "eipalloc-5cb9ab6c",
                            "instance": "",
                            "network_interface": "eni-aa45f605",
                            "private_ip": "10.127.22.132",
                            "public_ip": "50.17.161.248",
                            "vpc": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_eip.natgw.4": {
                    "type": "aws_eip",
                    "depends_on": [],
                    "primary": {
                        "id": "eipalloc-68bfad58",
                        "attributes": {
                            "association_id": "eipassoc-6596b857",
                            "domain": "vpc",
                            "id": "eipalloc-68bfad58",
                            "instance": "",
                            "network_interface": "eni-1a07141b",
                            "private_ip": "10.127.22.154",
                            "public_ip": "34.197.42.108",
                            "vpc": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_internet_gateway.igw": {
                    "type": "aws_internet_gateway",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "igw-cb7a37ad",
                        "attributes": {
                            "id": "igw-cb7a37ad",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-igw",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_launch_configuration.bastion": {
                    "type": "aws_launch_configuration",
                    "depends_on": [
                        "aws_security_group.jive_phx_dc",
                        "data.template_file.bastion_user_data"
                    ],
                    "primary": {
                        "id": "terraform-00b5be57f99142e12fb69742a2",
                        "attributes": {
                            "associate_public_ip_address": "false",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "enable_monitoring": "true",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "eni-attach-profile",
                            "id": "terraform-00b5be57f99142e12fb69742a2",
                            "image_id": "ami-6d1c2007",
                            "instance_type": "t2.medium",
                            "key_name": "data-pipeline",
                            "name": "terraform-00b5be57f99142e12fb69742a2",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "0",
                            "root_block_device.0.volume_size": "25",
                            "root_block_device.0.volume_type": "",
                            "security_groups.#": "1",
                            "security_groups.2643753069": "sg-5baeea2a",
                            "spot_price": "",
                            "user_data": "9cea596804d63517f281cb32a1664c5a7f183b96",
                            "vpc_classic_link_id": "",
                            "vpc_classic_link_security_groups.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_nat_gateway.natgw.0": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_eip.natgw.*",
                        "aws_internet_gateway.igw",
                        "aws_subnet.public.*"
                    ],
                    "primary": {
                        "id": "nat-0dcf516338c5be636",
                        "attributes": {
                            "allocation_id": "eipalloc-69bfad59",
                            "id": "nat-0dcf516338c5be636",
                            "network_interface_id": "eni-7a5275a9",
                            "private_ip": "10.127.22.88",
                            "public_ip": "34.207.4.215",
                            "subnet_id": "subnet-337a347b"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_nat_gateway.natgw.1": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_eip.natgw.*",
                        "aws_internet_gateway.igw",
                        "aws_subnet.public.*"
                    ],
                    "primary": {
                        "id": "nat-0cdbf29c33ea26b93",
                        "attributes": {
                            "allocation_id": "eipalloc-5db9ab6d",
                            "id": "nat-0cdbf29c33ea26b93",
                            "network_interface_id": "eni-8bf49922",
                            "private_ip": "10.127.22.104",
                            "public_ip": "34.206.252.128",
                            "subnet_id": "subnet-ba33bce0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_nat_gateway.natgw.2": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_eip.natgw.*",
                        "aws_internet_gateway.igw",
                        "aws_subnet.public.*"
                    ],
                    "primary": {
                        "id": "nat-037e6b05cc7cae1a7",
                        "attributes": {
                            "allocation_id": "eipalloc-a5bba995",
                            "id": "nat-037e6b05cc7cae1a7",
                            "network_interface_id": "eni-9f228488",
                            "private_ip": "10.127.22.120",
                            "public_ip": "23.23.67.158",
                            "subnet_id": "subnet-c2ef08a6"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_nat_gateway.natgw.3": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_eip.natgw.*",
                        "aws_internet_gateway.igw",
                        "aws_subnet.public.*"
                    ],
                    "primary": {
                        "id": "nat-0359f90dcb6eb8444",
                        "attributes": {
                            "allocation_id": "eipalloc-5cb9ab6c",
                            "id": "nat-0359f90dcb6eb8444",
                            "network_interface_id": "eni-aa45f605",
                            "private_ip": "10.127.22.132",
                            "public_ip": "50.17.161.248",
                            "subnet_id": "subnet-2f118603"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_nat_gateway.natgw.4": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_eip.natgw.*",
                        "aws_internet_gateway.igw",
                        "aws_subnet.public.*"
                    ],
                    "primary": {
                        "id": "nat-049bbeffcdd7ea56b",
                        "attributes": {
                            "allocation_id": "eipalloc-68bfad58",
                            "id": "nat-049bbeffcdd7ea56b",
                            "network_interface_id": "eni-1a07141b",
                            "private_ip": "10.127.22.154",
                            "public_ip": "34.197.42.108",
                            "subnet_id": "subnet-d66564ea"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_network_interface.bastion": {
                    "type": "aws_network_interface",
                    "depends_on": [
                        "aws_security_group.jive_phx_dc",
                        "aws_subnet.natdc"
                    ],
                    "primary": {
                        "id": "eni-5857708b",
                        "attributes": {
                            "attachment.#": "1",
                            "attachment.1738694273.attachment_id": "eni-attach-1a60e2ff",
                            "attachment.1738694273.device_index": "1",
                            "attachment.1738694273.instance": "i-0a7d3901519041f61",
                            "description": "",
                            "id": "eni-5857708b",
                            "private_ip": "10.127.22.7",
                            "private_ips.#": "1",
                            "private_ips.2143359526": "10.127.22.7",
                            "security_groups.#": "1",
                            "security_groups.2643753069": "sg-5baeea2a",
                            "source_dest_check": "true",
                            "subnet_id": "subnet-34612f7c",
                            "tags.%": "7",
                            "tags.Name": "infra-pipeline-bastion-instance",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.jive_service": "infrastructure",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.service_component": "bastion",
                            "tags.sla": "non-prod"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route53_record.bastion": {
                    "type": "aws_route53_record",
                    "depends_on": [],
                    "primary": {
                        "id": "Z3AIHK7L8DPDVB_bastion-us-east-1-jive-data-pipeline_A",
                        "attributes": {
                            "fqdn": "bastion-us-east-1-jive-data-pipeline.jiveprivate.com",
                            "health_check_id": "",
                            "id": "Z3AIHK7L8DPDVB_bastion-us-east-1-jive-data-pipeline_A",
                            "name": "bastion-us-east-1-jive-data-pipeline",
                            "records.#": "1",
                            "records.2143359526": "10.127.22.7",
                            "set_identifier": "",
                            "ttl": "60",
                            "type": "A",
                            "zone_id": "Z3AIHK7L8DPDVB"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route53_zone_association.route53": {
                    "type": "aws_route53_zone_association",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "Z3AIHK7L8DPDVB:vpc-9021bde9",
                        "attributes": {
                            "id": "Z3AIHK7L8DPDVB:vpc-9021bde9",
                            "vpc_id": "vpc-9021bde9",
                            "vpc_region": "us-east-1",
                            "zone_id": "Z3AIHK7L8DPDVB"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table.natdc.0": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_nat_gateway.natgw.*",
                        "aws_vpc.main",
                        "aws_vpn_gateway.vgw"
                    ],
                    "primary": {
                        "id": "rtb-4ef0d236",
                        "attributes": {
                            "id": "rtb-4ef0d236",
                            "propagating_vgws.#": "1",
                            "propagating_vgws.605353891": "vgw-f58a619c",
                            "route.#": "4",
                            "route.2399477481.cidr_block": "10.123.20.0/22",
                            "route.2399477481.egress_only_gateway_id": "",
                            "route.2399477481.gateway_id": "",
                            "route.2399477481.instance_id": "",
                            "route.2399477481.ipv6_cidr_block": "",
                            "route.2399477481.nat_gateway_id": "",
                            "route.2399477481.network_interface_id": "",
                            "route.2399477481.vpc_peering_connection_id": "pcx-8b7202e2",
                            "route.270802710.cidr_block": "10.123.16.0/22",
                            "route.270802710.egress_only_gateway_id": "",
                            "route.270802710.gateway_id": "",
                            "route.270802710.instance_id": "",
                            "route.270802710.ipv6_cidr_block": "",
                            "route.270802710.nat_gateway_id": "",
                            "route.270802710.network_interface_id": "",
                            "route.270802710.vpc_peering_connection_id": "pcx-ff0a7a96",
                            "route.3294852947.cidr_block": "0.0.0.0/0",
                            "route.3294852947.egress_only_gateway_id": "",
                            "route.3294852947.gateway_id": "",
                            "route.3294852947.instance_id": "",
                            "route.3294852947.ipv6_cidr_block": "",
                            "route.3294852947.nat_gateway_id": "nat-0dcf516338c5be636",
                            "route.3294852947.network_interface_id": "",
                            "route.3294852947.vpc_peering_connection_id": "",
                            "route.516626042.cidr_block": "10.123.24.0/22",
                            "route.516626042.egress_only_gateway_id": "",
                            "route.516626042.gateway_id": "",
                            "route.516626042.instance_id": "",
                            "route.516626042.ipv6_cidr_block": "",
                            "route.516626042.nat_gateway_id": "",
                            "route.516626042.network_interface_id": "",
                            "route.516626042.vpc_peering_connection_id": "pcx-b20979db",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-natdc-routetable",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table.natdc.1": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_nat_gateway.natgw.*",
                        "aws_vpc.main",
                        "aws_vpn_gateway.vgw"
                    ],
                    "primary": {
                        "id": "rtb-48efcd30",
                        "attributes": {
                            "id": "rtb-48efcd30",
                            "propagating_vgws.#": "1",
                            "propagating_vgws.605353891": "vgw-f58a619c",
                            "route.#": "4",
                            "route.2399477481.cidr_block": "10.123.20.0/22",
                            "route.2399477481.egress_only_gateway_id": "",
                            "route.2399477481.gateway_id": "",
                            "route.2399477481.instance_id": "",
                            "route.2399477481.ipv6_cidr_block": "",
                            "route.2399477481.nat_gateway_id": "",
                            "route.2399477481.network_interface_id": "",
                            "route.2399477481.vpc_peering_connection_id": "pcx-8b7202e2",
                            "route.270802710.cidr_block": "10.123.16.0/22",
                            "route.270802710.egress_only_gateway_id": "",
                            "route.270802710.gateway_id": "",
                            "route.270802710.instance_id": "",
                            "route.270802710.ipv6_cidr_block": "",
                            "route.270802710.nat_gateway_id": "",
                            "route.270802710.network_interface_id": "",
                            "route.270802710.vpc_peering_connection_id": "pcx-ff0a7a96",
                            "route.516626042.cidr_block": "10.123.24.0/22",
                            "route.516626042.egress_only_gateway_id": "",
                            "route.516626042.gateway_id": "",
                            "route.516626042.instance_id": "",
                            "route.516626042.ipv6_cidr_block": "",
                            "route.516626042.nat_gateway_id": "",
                            "route.516626042.network_interface_id": "",
                            "route.516626042.vpc_peering_connection_id": "pcx-b20979db",
                            "route.526516540.cidr_block": "0.0.0.0/0",
                            "route.526516540.egress_only_gateway_id": "",
                            "route.526516540.gateway_id": "",
                            "route.526516540.instance_id": "",
                            "route.526516540.ipv6_cidr_block": "",
                            "route.526516540.nat_gateway_id": "nat-0cdbf29c33ea26b93",
                            "route.526516540.network_interface_id": "",
                            "route.526516540.vpc_peering_connection_id": "",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-natdc-routetable",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table.natdc.2": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_nat_gateway.natgw.*",
                        "aws_vpc.main",
                        "aws_vpn_gateway.vgw"
                    ],
                    "primary": {
                        "id": "rtb-aef3d1d6",
                        "attributes": {
                            "id": "rtb-aef3d1d6",
                            "propagating_vgws.#": "1",
                            "propagating_vgws.605353891": "vgw-f58a619c",
                            "route.#": "4",
                            "route.1303836453.cidr_block": "0.0.0.0/0",
                            "route.1303836453.egress_only_gateway_id": "",
                            "route.1303836453.gateway_id": "",
                            "route.1303836453.instance_id": "",
                            "route.1303836453.ipv6_cidr_block": "",
                            "route.1303836453.nat_gateway_id": "nat-037e6b05cc7cae1a7",
                            "route.1303836453.network_interface_id": "",
                            "route.1303836453.vpc_peering_connection_id": "",
                            "route.2399477481.cidr_block": "10.123.20.0/22",
                            "route.2399477481.egress_only_gateway_id": "",
                            "route.2399477481.gateway_id": "",
                            "route.2399477481.instance_id": "",
                            "route.2399477481.ipv6_cidr_block": "",
                            "route.2399477481.nat_gateway_id": "",
                            "route.2399477481.network_interface_id": "",
                            "route.2399477481.vpc_peering_connection_id": "pcx-8b7202e2",
                            "route.270802710.cidr_block": "10.123.16.0/22",
                            "route.270802710.egress_only_gateway_id": "",
                            "route.270802710.gateway_id": "",
                            "route.270802710.instance_id": "",
                            "route.270802710.ipv6_cidr_block": "",
                            "route.270802710.nat_gateway_id": "",
                            "route.270802710.network_interface_id": "",
                            "route.270802710.vpc_peering_connection_id": "pcx-ff0a7a96",
                            "route.516626042.cidr_block": "10.123.24.0/22",
                            "route.516626042.egress_only_gateway_id": "",
                            "route.516626042.gateway_id": "",
                            "route.516626042.instance_id": "",
                            "route.516626042.ipv6_cidr_block": "",
                            "route.516626042.nat_gateway_id": "",
                            "route.516626042.network_interface_id": "",
                            "route.516626042.vpc_peering_connection_id": "pcx-b20979db",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-natdc-routetable",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table.natdc.3": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_nat_gateway.natgw.*",
                        "aws_vpc.main",
                        "aws_vpn_gateway.vgw"
                    ],
                    "primary": {
                        "id": "rtb-adf3d1d5",
                        "attributes": {
                            "id": "rtb-adf3d1d5",
                            "propagating_vgws.#": "1",
                            "propagating_vgws.605353891": "vgw-f58a619c",
                            "route.#": "4",
                            "route.2399477481.cidr_block": "10.123.20.0/22",
                            "route.2399477481.egress_only_gateway_id": "",
                            "route.2399477481.gateway_id": "",
                            "route.2399477481.instance_id": "",
                            "route.2399477481.ipv6_cidr_block": "",
                            "route.2399477481.nat_gateway_id": "",
                            "route.2399477481.network_interface_id": "",
                            "route.2399477481.vpc_peering_connection_id": "pcx-8b7202e2",
                            "route.270802710.cidr_block": "10.123.16.0/22",
                            "route.270802710.egress_only_gateway_id": "",
                            "route.270802710.gateway_id": "",
                            "route.270802710.instance_id": "",
                            "route.270802710.ipv6_cidr_block": "",
                            "route.270802710.nat_gateway_id": "",
                            "route.270802710.network_interface_id": "",
                            "route.270802710.vpc_peering_connection_id": "pcx-ff0a7a96",
                            "route.4162146340.cidr_block": "0.0.0.0/0",
                            "route.4162146340.egress_only_gateway_id": "",
                            "route.4162146340.gateway_id": "",
                            "route.4162146340.instance_id": "",
                            "route.4162146340.ipv6_cidr_block": "",
                            "route.4162146340.nat_gateway_id": "nat-0359f90dcb6eb8444",
                            "route.4162146340.network_interface_id": "",
                            "route.4162146340.vpc_peering_connection_id": "",
                            "route.516626042.cidr_block": "10.123.24.0/22",
                            "route.516626042.egress_only_gateway_id": "",
                            "route.516626042.gateway_id": "",
                            "route.516626042.instance_id": "",
                            "route.516626042.ipv6_cidr_block": "",
                            "route.516626042.nat_gateway_id": "",
                            "route.516626042.network_interface_id": "",
                            "route.516626042.vpc_peering_connection_id": "pcx-b20979db",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-natdc-routetable",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table.natdc.4": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_nat_gateway.natgw.*",
                        "aws_vpc.main",
                        "aws_vpn_gateway.vgw"
                    ],
                    "primary": {
                        "id": "rtb-7beecc03",
                        "attributes": {
                            "id": "rtb-7beecc03",
                            "propagating_vgws.#": "1",
                            "propagating_vgws.605353891": "vgw-f58a619c",
                            "route.#": "4",
                            "route.2399477481.cidr_block": "10.123.20.0/22",
                            "route.2399477481.egress_only_gateway_id": "",
                            "route.2399477481.gateway_id": "",
                            "route.2399477481.instance_id": "",
                            "route.2399477481.ipv6_cidr_block": "",
                            "route.2399477481.nat_gateway_id": "",
                            "route.2399477481.network_interface_id": "",
                            "route.2399477481.vpc_peering_connection_id": "pcx-8b7202e2",
                            "route.270802710.cidr_block": "10.123.16.0/22",
                            "route.270802710.egress_only_gateway_id": "",
                            "route.270802710.gateway_id": "",
                            "route.270802710.instance_id": "",
                            "route.270802710.ipv6_cidr_block": "",
                            "route.270802710.nat_gateway_id": "",
                            "route.270802710.network_interface_id": "",
                            "route.270802710.vpc_peering_connection_id": "pcx-ff0a7a96",
                            "route.453377735.cidr_block": "0.0.0.0/0",
                            "route.453377735.egress_only_gateway_id": "",
                            "route.453377735.gateway_id": "",
                            "route.453377735.instance_id": "",
                            "route.453377735.ipv6_cidr_block": "",
                            "route.453377735.nat_gateway_id": "nat-049bbeffcdd7ea56b",
                            "route.453377735.network_interface_id": "",
                            "route.453377735.vpc_peering_connection_id": "",
                            "route.516626042.cidr_block": "10.123.24.0/22",
                            "route.516626042.egress_only_gateway_id": "",
                            "route.516626042.gateway_id": "",
                            "route.516626042.instance_id": "",
                            "route.516626042.ipv6_cidr_block": "",
                            "route.516626042.nat_gateway_id": "",
                            "route.516626042.network_interface_id": "",
                            "route.516626042.vpc_peering_connection_id": "pcx-b20979db",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-natdc-routetable",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table.private": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "rtb-c0e6c4b8",
                        "attributes": {
                            "id": "rtb-c0e6c4b8",
                            "propagating_vgws.#": "0",
                            "route.#": "3",
                            "route.2399477481.cidr_block": "10.123.20.0/22",
                            "route.2399477481.egress_only_gateway_id": "",
                            "route.2399477481.gateway_id": "",
                            "route.2399477481.instance_id": "",
                            "route.2399477481.ipv6_cidr_block": "",
                            "route.2399477481.nat_gateway_id": "",
                            "route.2399477481.network_interface_id": "",
                            "route.2399477481.vpc_peering_connection_id": "pcx-8b7202e2",
                            "route.270802710.cidr_block": "10.123.16.0/22",
                            "route.270802710.egress_only_gateway_id": "",
                            "route.270802710.gateway_id": "",
                            "route.270802710.instance_id": "",
                            "route.270802710.ipv6_cidr_block": "",
                            "route.270802710.nat_gateway_id": "",
                            "route.270802710.network_interface_id": "",
                            "route.270802710.vpc_peering_connection_id": "pcx-ff0a7a96",
                            "route.516626042.cidr_block": "10.123.24.0/22",
                            "route.516626042.egress_only_gateway_id": "",
                            "route.516626042.gateway_id": "",
                            "route.516626042.instance_id": "",
                            "route.516626042.ipv6_cidr_block": "",
                            "route.516626042.nat_gateway_id": "",
                            "route.516626042.network_interface_id": "",
                            "route.516626042.vpc_peering_connection_id": "pcx-b20979db",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-private-routetable",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table.public": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_internet_gateway.igw",
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "rtb-77e8ca0f",
                        "attributes": {
                            "id": "rtb-77e8ca0f",
                            "propagating_vgws.#": "0",
                            "route.#": "4",
                            "route.1606757293.cidr_block": "0.0.0.0/0",
                            "route.1606757293.egress_only_gateway_id": "",
                            "route.1606757293.gateway_id": "igw-cb7a37ad",
                            "route.1606757293.instance_id": "",
                            "route.1606757293.ipv6_cidr_block": "",
                            "route.1606757293.nat_gateway_id": "",
                            "route.1606757293.network_interface_id": "",
                            "route.1606757293.vpc_peering_connection_id": "",
                            "route.2399477481.cidr_block": "10.123.20.0/22",
                            "route.2399477481.egress_only_gateway_id": "",
                            "route.2399477481.gateway_id": "",
                            "route.2399477481.instance_id": "",
                            "route.2399477481.ipv6_cidr_block": "",
                            "route.2399477481.nat_gateway_id": "",
                            "route.2399477481.network_interface_id": "",
                            "route.2399477481.vpc_peering_connection_id": "pcx-8b7202e2",
                            "route.270802710.cidr_block": "10.123.16.0/22",
                            "route.270802710.egress_only_gateway_id": "",
                            "route.270802710.gateway_id": "",
                            "route.270802710.instance_id": "",
                            "route.270802710.ipv6_cidr_block": "",
                            "route.270802710.nat_gateway_id": "",
                            "route.270802710.network_interface_id": "",
                            "route.270802710.vpc_peering_connection_id": "pcx-ff0a7a96",
                            "route.516626042.cidr_block": "10.123.24.0/22",
                            "route.516626042.egress_only_gateway_id": "",
                            "route.516626042.gateway_id": "",
                            "route.516626042.instance_id": "",
                            "route.516626042.ipv6_cidr_block": "",
                            "route.516626042.nat_gateway_id": "",
                            "route.516626042.network_interface_id": "",
                            "route.516626042.vpc_peering_connection_id": "pcx-b20979db",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-public-routetable",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.natdc.0": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.natdc.*",
                        "aws_subnet.natdc.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-df829fa4",
                        "attributes": {
                            "id": "rtbassoc-df829fa4",
                            "route_table_id": "rtb-4ef0d236",
                            "subnet_id": "subnet-1330bf49"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.natdc.1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.natdc.*",
                        "aws_subnet.natdc.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-68869b13",
                        "attributes": {
                            "id": "rtbassoc-68869b13",
                            "route_table_id": "rtb-48efcd30",
                            "subnet_id": "subnet-7fed0a1b"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.natdc.2": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.natdc.*",
                        "aws_subnet.natdc.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-1dbda066",
                        "attributes": {
                            "id": "rtbassoc-1dbda066",
                            "route_table_id": "rtb-aef3d1d6",
                            "subnet_id": "subnet-8d0394a1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.natdc.3": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.natdc.*",
                        "aws_subnet.natdc.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-1cbda067",
                        "attributes": {
                            "id": "rtbassoc-1cbda067",
                            "route_table_id": "rtb-adf3d1d5",
                            "subnet_id": "subnet-d26362ee"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.natdc.4": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.natdc.*",
                        "aws_subnet.natdc.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-c1809dba",
                        "attributes": {
                            "id": "rtbassoc-c1809dba",
                            "route_table_id": "rtb-7beecc03",
                            "subnet_id": "subnet-34612f7c"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.private.0": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.private",
                        "aws_subnet.private.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-c1bfa2ba",
                        "attributes": {
                            "id": "rtbassoc-c1bfa2ba",
                            "route_table_id": "rtb-c0e6c4b8",
                            "subnet_id": "subnet-b9632df1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.private.1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.private",
                        "aws_subnet.private.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-c0bfa2bb",
                        "attributes": {
                            "id": "rtbassoc-c0bfa2bb",
                            "route_table_id": "rtb-c0e6c4b8",
                            "subnet_id": "subnet-46cd431c"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.private.2": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.private",
                        "aws_subnet.private.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-ed849996",
                        "attributes": {
                            "id": "rtbassoc-ed849996",
                            "route_table_id": "rtb-c0e6c4b8",
                            "subnet_id": "subnet-6dee0909"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.private.3": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.private",
                        "aws_subnet.private.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-bb8598c0",
                        "attributes": {
                            "id": "rtbassoc-bb8598c0",
                            "route_table_id": "rtb-c0e6c4b8",
                            "subnet_id": "subnet-2d198e01"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.private.4": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.private",
                        "aws_subnet.private.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-0f8b9674",
                        "attributes": {
                            "id": "rtbassoc-0f8b9674",
                            "route_table_id": "rtb-c0e6c4b8",
                            "subnet_id": "subnet-c36160ff"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.public.0": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.public",
                        "aws_subnet.public.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-938499e8",
                        "attributes": {
                            "id": "rtbassoc-938499e8",
                            "route_table_id": "rtb-77e8ca0f",
                            "subnet_id": "subnet-337a347b"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.public.1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.public",
                        "aws_subnet.public.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-76869b0d",
                        "attributes": {
                            "id": "rtbassoc-76869b0d",
                            "route_table_id": "rtb-77e8ca0f",
                            "subnet_id": "subnet-ba33bce0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.public.2": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.public",
                        "aws_subnet.public.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-42829f39",
                        "attributes": {
                            "id": "rtbassoc-42829f39",
                            "route_table_id": "rtb-77e8ca0f",
                            "subnet_id": "subnet-c2ef08a6"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.public.3": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.public",
                        "aws_subnet.public.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-a6839edd",
                        "attributes": {
                            "id": "rtbassoc-a6839edd",
                            "route_table_id": "rtb-77e8ca0f",
                            "subnet_id": "subnet-2f118603"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.public.4": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.public",
                        "aws_subnet.public.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-c7bfa2bc",
                        "attributes": {
                            "id": "rtbassoc-c7bfa2bc",
                            "route_table_id": "rtb-77e8ca0f",
                            "subnet_id": "subnet-d66564ea"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group.env_instance": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "sg-60b7f810",
                        "attributes": {
                            "description": "Empty SG for all instances within the environment",
                            "egress.#": "0",
                            "id": "sg-60b7f810",
                            "ingress.#": "0",
                            "name": "infra-pipeline-instance",
                            "owner_id": "999547976641",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-instance",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group.jive_phx_dc": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "sg-5baeea2a",
                        "attributes": {
                            "description": "Allow SSH and Ping from CIDRs within Jive PHX Data Center",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.ipv6_cidr_blocks.#": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-5baeea2a",
                            "ingress.#": "2",
                            "ingress.179083333.cidr_blocks.#": "1",
                            "ingress.179083333.cidr_blocks.0": "10.0.0.0/8",
                            "ingress.179083333.from_port": "22",
                            "ingress.179083333.ipv6_cidr_blocks.#": "0",
                            "ingress.179083333.protocol": "tcp",
                            "ingress.179083333.security_groups.#": "0",
                            "ingress.179083333.self": "false",
                            "ingress.179083333.to_port": "22",
                            "ingress.3280021429.cidr_blocks.#": "1",
                            "ingress.3280021429.cidr_blocks.0": "10.0.0.0/8",
                            "ingress.3280021429.from_port": "8",
                            "ingress.3280021429.ipv6_cidr_blocks.#": "0",
                            "ingress.3280021429.protocol": "icmp",
                            "ingress.3280021429.security_groups.#": "0",
                            "ingress.3280021429.self": "false",
                            "ingress.3280021429.to_port": "0",
                            "name": "infra-pipeline-jive-phx-dc",
                            "owner_id": "999547976641",
                            "tags.%": "6",
                            "tags.Name": "infra-pipeline-jive-phx-dc",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.jive_service": "infrastructure",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.natdc.0": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-34612f7c",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1a",
                            "cidr_block": "10.127.22.0/28",
                            "id": "subnet-34612f7c",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-natdc-subnet",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.natdc.1": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-1330bf49",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1b",
                            "cidr_block": "10.127.22.16/28",
                            "id": "subnet-1330bf49",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-natdc-subnet",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.natdc.2": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-7fed0a1b",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1c",
                            "cidr_block": "10.127.22.32/28",
                            "id": "subnet-7fed0a1b",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-natdc-subnet",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.natdc.3": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-8d0394a1",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1d",
                            "cidr_block": "10.127.22.48/28",
                            "id": "subnet-8d0394a1",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-natdc-subnet",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.natdc.4": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-d26362ee",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1e",
                            "cidr_block": "10.127.22.64/28",
                            "id": "subnet-d26362ee",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-natdc-subnet",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.private.0": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-b9632df1",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1a",
                            "cidr_block": "10.127.22.160/28",
                            "id": "subnet-b9632df1",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-private-subnet",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.private.1": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-46cd431c",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1b",
                            "cidr_block": "10.127.22.176/28",
                            "id": "subnet-46cd431c",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-private-subnet",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.private.2": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-6dee0909",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1c",
                            "cidr_block": "10.127.22.192/28",
                            "id": "subnet-6dee0909",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-private-subnet",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.private.3": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-2d198e01",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1d",
                            "cidr_block": "10.127.22.208/28",
                            "id": "subnet-2d198e01",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-private-subnet",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.private.4": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-c36160ff",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1e",
                            "cidr_block": "10.127.22.224/28",
                            "id": "subnet-c36160ff",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-private-subnet",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.public.0": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-337a347b",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1a",
                            "cidr_block": "10.127.22.80/28",
                            "id": "subnet-337a347b",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-public-subnet",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.public.1": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-ba33bce0",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1b",
                            "cidr_block": "10.127.22.96/28",
                            "id": "subnet-ba33bce0",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-public-subnet",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.public.2": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-c2ef08a6",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1c",
                            "cidr_block": "10.127.22.112/28",
                            "id": "subnet-c2ef08a6",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-public-subnet",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.public.3": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-2f118603",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1d",
                            "cidr_block": "10.127.22.128/28",
                            "id": "subnet-2f118603",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-public-subnet",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.public.4": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-d66564ea",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1e",
                            "cidr_block": "10.127.22.144/28",
                            "id": "subnet-d66564ea",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-public-subnet",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_vpc.main": {
                    "type": "aws_vpc",
                    "depends_on": [],
                    "primary": {
                        "id": "vpc-9021bde9",
                        "attributes": {
                            "assign_generated_ipv6_cidr_block": "false",
                            "cidr_block": "10.127.22.0/24",
                            "default_network_acl_id": "acl-5ddcda24",
                            "default_route_table_id": "rtb-6eedcf16",
                            "default_security_group_id": "sg-32a9ed43",
                            "dhcp_options_id": "dopt-29e6c44c",
                            "enable_classiclink": "false",
                            "enable_dns_hostnames": "true",
                            "enable_dns_support": "true",
                            "id": "vpc-9021bde9",
                            "instance_tenancy": "default",
                            "main_route_table_id": "rtb-6eedcf16",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-vpc",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_vpn_connection.main": {
                    "type": "aws_vpn_connection",
                    "depends_on": [
                        "aws_customer_gateway.customer_gateway",
                        "aws_vpn_gateway.vgw"
                    ],
                    "primary": {
                        "id": "vpn-a94152c8",
                        "attributes": {
                            "customer_gateway_configuration": "\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\n\u003cvpn_connection id=\"vpn-a94152c8\"\u003e\n  \u003ccustomer_gateway_id\u003ecgw-4d987324\u003c/customer_gateway_id\u003e\n  \u003cvpn_gateway_id\u003evgw-f58a619c\u003c/vpn_gateway_id\u003e\n  \u003cvpn_connection_type\u003eipsec.1\u003c/vpn_connection_type\u003e\n  \u003cipsec_tunnel\u003e\n    \u003ccustomer_gateway\u003e\n      \u003ctunnel_outside_address\u003e\n        \u003cip_address\u003e204.93.64.130\u003c/ip_address\u003e\n      \u003c/tunnel_outside_address\u003e\n      \u003ctunnel_inside_address\u003e\n        \u003cip_address\u003e169.254.45.114\u003c/ip_address\u003e\n        \u003cnetwork_mask\u003e255.255.255.252\u003c/network_mask\u003e\n        \u003cnetwork_cidr\u003e30\u003c/network_cidr\u003e\n      \u003c/tunnel_inside_address\u003e\n      \u003cbgp\u003e\n        \u003casn\u003e13364\u003c/asn\u003e\n        \u003chold_time\u003e30\u003c/hold_time\u003e\n      \u003c/bgp\u003e\n    \u003c/customer_gateway\u003e\n    \u003cvpn_gateway\u003e\n      \u003ctunnel_outside_address\u003e\n        \u003cip_address\u003e34.194.173.214\u003c/ip_address\u003e\n      \u003c/tunnel_outside_address\u003e\n      \u003ctunnel_inside_address\u003e\n        \u003cip_address\u003e169.254.45.113\u003c/ip_address\u003e\n        \u003cnetwork_mask\u003e255.255.255.252\u003c/network_mask\u003e\n        \u003cnetwork_cidr\u003e30\u003c/network_cidr\u003e\n      \u003c/tunnel_inside_address\u003e\n      \u003cbgp\u003e\n        \u003casn\u003e7224\u003c/asn\u003e\n        \u003chold_time\u003e30\u003c/hold_time\u003e\n      \u003c/bgp\u003e\n    \u003c/vpn_gateway\u003e\n    \u003cike\u003e\n      \u003cauthentication_protocol\u003esha1\u003c/authentication_protocol\u003e\n      \u003cencryption_protocol\u003eaes-128-cbc\u003c/encryption_protocol\u003e\n      \u003clifetime\u003e28800\u003c/lifetime\u003e\n      \u003cperfect_forward_secrecy\u003egroup2\u003c/perfect_forward_secrecy\u003e\n      \u003cmode\u003emain\u003c/mode\u003e\n      \u003cpre_shared_key\u003eBt6hTJ5QL0t5fAHpuBPt5H7nliKNObPO\u003c/pre_shared_key\u003e\n    \u003c/ike\u003e\n    \u003cipsec\u003e\n      \u003cprotocol\u003eesp\u003c/protocol\u003e\n      \u003cauthentication_protocol\u003ehmac-sha1-96\u003c/authentication_protocol\u003e\n      \u003cencryption_protocol\u003eaes-128-cbc\u003c/encryption_protocol\u003e\n      \u003clifetime\u003e3600\u003c/lifetime\u003e\n      \u003cperfect_forward_secrecy\u003egroup2\u003c/perfect_forward_secrecy\u003e\n      \u003cmode\u003etunnel\u003c/mode\u003e\n      \u003cclear_df_bit\u003etrue\u003c/clear_df_bit\u003e\n      \u003cfragmentation_before_encryption\u003etrue\u003c/fragmentation_before_encryption\u003e\n      \u003ctcp_mss_adjustment\u003e1379\u003c/tcp_mss_adjustment\u003e\n      \u003cdead_peer_detection\u003e\n        \u003cinterval\u003e10\u003c/interval\u003e\n        \u003cretries\u003e3\u003c/retries\u003e\n      \u003c/dead_peer_detection\u003e\n    \u003c/ipsec\u003e\n  \u003c/ipsec_tunnel\u003e\n  \u003cipsec_tunnel\u003e\n    \u003ccustomer_gateway\u003e\n      \u003ctunnel_outside_address\u003e\n        \u003cip_address\u003e204.93.64.130\u003c/ip_address\u003e\n      \u003c/tunnel_outside_address\u003e\n      \u003ctunnel_inside_address\u003e\n        \u003cip_address\u003e169.254.45.242\u003c/ip_address\u003e\n        \u003cnetwork_mask\u003e255.255.255.252\u003c/network_mask\u003e\n        \u003cnetwork_cidr\u003e30\u003c/network_cidr\u003e\n      \u003c/tunnel_inside_address\u003e\n      \u003cbgp\u003e\n        \u003casn\u003e13364\u003c/asn\u003e\n        \u003chold_time\u003e30\u003c/hold_time\u003e\n      \u003c/bgp\u003e\n    \u003c/customer_gateway\u003e\n    \u003cvpn_gateway\u003e\n      \u003ctunnel_outside_address\u003e\n        \u003cip_address\u003e54.80.110.125\u003c/ip_address\u003e\n      \u003c/tunnel_outside_address\u003e\n      \u003ctunnel_inside_address\u003e\n        \u003cip_address\u003e169.254.45.241\u003c/ip_address\u003e\n        \u003cnetwork_mask\u003e255.255.255.252\u003c/network_mask\u003e\n        \u003cnetwork_cidr\u003e30\u003c/network_cidr\u003e\n      \u003c/tunnel_inside_address\u003e\n      \u003cbgp\u003e\n        \u003casn\u003e7224\u003c/asn\u003e\n        \u003chold_time\u003e30\u003c/hold_time\u003e\n      \u003c/bgp\u003e\n    \u003c/vpn_gateway\u003e\n    \u003cike\u003e\n      \u003cauthentication_protocol\u003esha1\u003c/authentication_protocol\u003e\n      \u003cencryption_protocol\u003eaes-128-cbc\u003c/encryption_protocol\u003e\n      \u003clifetime\u003e28800\u003c/lifetime\u003e\n      \u003cperfect_forward_secrecy\u003egroup2\u003c/perfect_forward_secrecy\u003e\n      \u003cmode\u003emain\u003c/mode\u003e\n      \u003cpre_shared_key\u003eXQoXybkyURaFV5FtG5HClL_pTdYpwkUK\u003c/pre_shared_key\u003e\n    \u003c/ike\u003e\n    \u003cipsec\u003e\n      \u003cprotocol\u003eesp\u003c/protocol\u003e\n      \u003cauthentication_protocol\u003ehmac-sha1-96\u003c/authentication_protocol\u003e\n      \u003cencryption_protocol\u003eaes-128-cbc\u003c/encryption_protocol\u003e\n      \u003clifetime\u003e3600\u003c/lifetime\u003e\n      \u003cperfect_forward_secrecy\u003egroup2\u003c/perfect_forward_secrecy\u003e\n      \u003cmode\u003etunnel\u003c/mode\u003e\n      \u003cclear_df_bit\u003etrue\u003c/clear_df_bit\u003e\n      \u003cfragmentation_before_encryption\u003etrue\u003c/fragmentation_before_encryption\u003e\n      \u003ctcp_mss_adjustment\u003e1379\u003c/tcp_mss_adjustment\u003e\n      \u003cdead_peer_detection\u003e\n        \u003cinterval\u003e10\u003c/interval\u003e\n        \u003cretries\u003e3\u003c/retries\u003e\n      \u003c/dead_peer_detection\u003e\n    \u003c/ipsec\u003e\n  \u003c/ipsec_tunnel\u003e\n\u003c/vpn_connection\u003e",
                            "customer_gateway_id": "cgw-4d987324",
                            "id": "vpn-a94152c8",
                            "routes.#": "0",
                            "static_routes_only": "false",
                            "tags.%": "5",
                            "tags.Name": "infra-pipeline-jive-vpn",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.sla": "non-prod",
                            "tunnel1_address": "34.194.173.214",
                            "tunnel1_preshared_key": "Bt6hTJ5QL0t5fAHpuBPt5H7nliKNObPO",
                            "tunnel2_address": "54.80.110.125",
                            "tunnel2_preshared_key": "XQoXybkyURaFV5FtG5HClL_pTdYpwkUK",
                            "type": "ipsec.1",
                            "vgw_telemetry.#": "2",
                            "vgw_telemetry.1604914290.accepted_route_count": "7",
                            "vgw_telemetry.1604914290.last_status_change": "2017-08-30 03:46:05 +0000 UTC",
                            "vgw_telemetry.1604914290.outside_ip_address": "34.194.173.214",
                            "vgw_telemetry.1604914290.status": "UP",
                            "vgw_telemetry.1604914290.status_message": "7 BGP ROUTES",
                            "vgw_telemetry.3439982117.accepted_route_count": "7",
                            "vgw_telemetry.3439982117.last_status_change": "2017-08-23 15:27:05 +0000 UTC",
                            "vgw_telemetry.3439982117.outside_ip_address": "54.80.110.125",
                            "vgw_telemetry.3439982117.status": "UP",
                            "vgw_telemetry.3439982117.status_message": "7 BGP ROUTES",
                            "vpn_gateway_id": "vgw-f58a619c"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_vpn_gateway.vgw": {
                    "type": "aws_vpn_gateway",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "vgw-f58a619c",
                        "attributes": {
                            "id": "vgw-f58a619c",
                            "tags.%": "7",
                            "tags.Name": "infra-pipeline-vgw",
                            "tags.account_name": "jive-data-pipeline",
                            "tags.jive_service": "infrastructure",
                            "tags.pipeline_phase": "infra-pipeline",
                            "tags.region": "us-east-1",
                            "tags.service_component": "vpn_gateway",
                            "tags.sla": "non-prod",
                            "vpc_id": "vpc-9021bde9"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.template_file.bastion_user_data": {
                    "type": "template_file",
                    "depends_on": [
                        "aws_network_interface.bastion"
                    ],
                    "primary": {
                        "id": "44baef0454f32ee60597a65b244e5aafaf0e18019f3a7ff8d299faf08fad3991",
                        "attributes": {
                            "id": "44baef0454f32ee60597a65b244e5aafaf0e18019f3a7ff8d299faf08fad3991",
                            "rendered": "#!/bin/bash\n\ndeclare -r instance_id=$(curl -s http://169.254.169.254/latest/meta-data/instance-id)\ndeclare -r bi=10.127.22.7\ndeclare -r bastion_gw=\"${bi%.*}.1\"\n\nfunction_prep() {\n    # Get pip for awscli\n    yum install -y epel-release\n    yum install -y python-pip\n    pip install awscli\n}\n\nfunction_eni() {\n    # Attached the ENI to the Bastion instance\n    /usr/bin/aws ec2 attach-network-interface   --region us-east-1 \\\n                                                --network-interface-id eni-5857708b \\\n                                                --instance-id $instance_id \\\n                                                --device-index 1\n\n    # Give the ENI some time to get an IP and attach correctly\n    sleep 30\n}\n\nfunction_network() {\n    # Make eth1 the default route, set eth0 off, and set eth1 on, then restart the network\n    cat \u003c\u003cEOF \u003e /etc/sysconfig/network\nNETWORKING=yes\nNOZEROCONF=yes\nGATEWAY=$bastion_gw\nGATEWAYDEV=eth1\nEOF\n\n    cat \u003c\u003cEOF \u003e /etc/sysconfig/network-scripts/ifcfg-eth0\nDEVICE=\"eth0\"\nONBOOT=\"no\"\nEOF\n\n    cat \u003c\u003cEOF \u003e /etc/sysconfig/network-scripts/ifcfg-eth1\nDEVICE=eth1\nBOOTPROTO=static\nDHCPCLASS=\nIPADDR=10.127.22.7\nNETMASK=255.255.255.224\nONBOOT=yes\nEOF\n\n    systemctl restart network\n}\n\nfunction_nexus() {\n    # URL redirect fails without this entry\n    echo \"10.10.100.155 nexus-int.eng.jiveland.com\" \u003e\u003e /etc/hosts\n\n    # Script to download Ansible artifact from Nexus\n    cat \u003c\u003c'EOF' \u003e /tmp/get_nexus_artifact.sh\n#!/bin/bash\n# Argument = -h -v -i groupId:artifactId:version -c classifier -p packaging -r repository\n\n# Define Nexus Configuration\nNEXUS_BASE=nexus-int.eng.jiveland.com\nREST_PATH=/service/local\nART_REDIR=/artifact/maven/redirect\n\n# Read in Complete Set of Coordinates from the Command Line\nGROUP_ID=\nARTIFACT_ID=\nVERSION=\"LATEST\"\nCLASSIFIER=\"\"\nPACKAGING=tar.gz\nREPO=\"candidates\"\nVERBOSE=0\n\nwhile getopts \"hvi:c:p:\" OPTION\ndo\n     case $OPTION in\n         h)\n             usage\n             exit 1\n             ;;\n         i)\n\t     OIFS=$IFS\n             IFS=\":\"\n\t     GAV_COORD=( $OPTARG )\n\t     GROUP_ID=${GAV_COORD[0]}\n             ARTIFACT_ID=${GAV_COORD[1]}\n             VERSION=${GAV_COORD[2]}\n\t     IFS=$OIFS\n             ;;\n         c)\n             CLASSIFIER=$OPTARG\n             ;;\n         p)\n             PACKAGING=$OPTARG\n             ;;\n         v)\n             VERBOSE=1\n             ;;\n         ?)\n             usage\n             exit\n             ;;\n     esac\ndone\n\nif [[ -z $GROUP_ID ]] || [[ -z $ARTIFACT_ID ]] || [[ -z $VERSION ]]\nthen\n     echo \"BAD ARGUMENTS: Either groupId, artifactId, or version was not supplied\" \u003e\u00262\n     usage\n     exit 1\nfi\n\n# Construct the base URL\nREDIRECT_URL=${NEXUS_BASE}${REST_PATH}${ART_REDIR}\n\n# Generate the list of parameters\nPARAM_KEYS=( g a v r p c )\nPARAM_VALUES=( $GROUP_ID $ARTIFACT_ID $VERSION $REPO $PACKAGING $CLASSIFIER )\nPARAMS=\"\"\nfor index in ${!PARAM_KEYS[*]}\ndo\n  if [[ ${PARAM_VALUES[$index]} != \"\" ]]\n  then\n    PARAMS=\"${PARAMS}${PARAM_KEYS[$index]}=${PARAM_VALUES[$index]}\u0026\"\n  fi\ndone\n\nREDIRECT_URL=\"${REDIRECT_URL}?${PARAMS}\"\n\necho \"Fetching Artifact from $REDIRECT_URL...\" \u003e\u00262\ncurl -sS -L ${REDIRECT_URL}\nEOF\n    # Run script to download latest Ansible artifact and unpack\n    chmod +x /tmp/get_nexus_artifact.sh\n    /tmp/get_nexus_artifact.sh -i com.jivesoftware.techops:ansible-common:LATEST \u003e /tmp/ansible-common.tar.gz\n}\n\nfunction_ansible() {\n    # Need Sudo TTY\n    sed -i s/'Defaults    requiretty'/'#Defaults    requiretty'/ /etc/sudoers\n    # Disable SELINUX for SSSD\n    sed -i 's/^SELINUX=.*/SELINUX=disabled/' /etc/selinux/config\n    # Create Ansible working directories\n    mkdir -p /tmp/ansible-common\n    tar xf /tmp/ansible-common.tar.gz -C /tmp/ansible-common/\n    # Set Python to 2.6 and run Ansible locally\n    alternatives --set python /usr/bin/python2.6\n    yum install -y python-boto ansible\n\n    # Run Ansible\n    /tmp/ansible-common/bin/run_ansible.sh /tmp/ansible-common/playbook-bastion.yml -e region=us-east-1 --connection=local -i /tmp/ansible-common/inventory_ec2/ \u003e\u003e /tmp/ansible-common/ansible_debug.log\n\n    # Change permissions on Ansible artifact so that ansible deploy pipeline\n    # can overwrite them in the future\n    chown -R ansible:service-users /tmp/ansible-common /tmp/ansible-common.tar.gz\n}\n\nfunction_restart() {\n    # Need to restart for SELINUX change.\n    shutdown -r now\n}\n\n# Run the things\nfunction_prep\nfunction_eni\nfunction_network\nfunction_nexus\nfunction_ansible\nfunction_restart\n",
                            "template": "#!/bin/bash\n\ndeclare -r instance_id=$(curl -s http://169.254.169.254/latest/meta-data/instance-id)\ndeclare -r bi=${bastion_ip}\ndeclare -r bastion_gw=\"$${bi%.*}.1\"\n\nfunction_prep() {\n    # Get pip for awscli\n    yum install -y epel-release\n    yum install -y python-pip\n    pip install awscli\n}\n\nfunction_eni() {\n    # Attached the ENI to the Bastion instance\n    /usr/bin/aws ec2 attach-network-interface   --region ${region} \\\n                                                --network-interface-id ${eni} \\\n                                                --instance-id $instance_id \\\n                                                --device-index 1\n\n    # Give the ENI some time to get an IP and attach correctly\n    sleep 30\n}\n\nfunction_network() {\n    # Make eth1 the default route, set eth0 off, and set eth1 on, then restart the network\n    cat \u003c\u003cEOF \u003e /etc/sysconfig/network\nNETWORKING=yes\nNOZEROCONF=yes\nGATEWAY=$bastion_gw\nGATEWAYDEV=eth1\nEOF\n\n    cat \u003c\u003cEOF \u003e /etc/sysconfig/network-scripts/ifcfg-eth0\nDEVICE=\"eth0\"\nONBOOT=\"no\"\nEOF\n\n    cat \u003c\u003cEOF \u003e /etc/sysconfig/network-scripts/ifcfg-eth1\nDEVICE=eth1\nBOOTPROTO=static\nDHCPCLASS=\nIPADDR=${bastion_ip}\nNETMASK=255.255.255.224\nONBOOT=yes\nEOF\n\n    systemctl restart network\n}\n\nfunction_nexus() {\n    # URL redirect fails without this entry\n    echo \"10.10.100.155 nexus-int.eng.jiveland.com\" \u003e\u003e /etc/hosts\n\n    # Script to download Ansible artifact from Nexus\n    cat \u003c\u003c'EOF' \u003e /tmp/get_nexus_artifact.sh\n#!/bin/bash\n# Argument = -h -v -i groupId:artifactId:version -c classifier -p packaging -r repository\n\n# Define Nexus Configuration\nNEXUS_BASE=nexus-int.eng.jiveland.com\nREST_PATH=/service/local\nART_REDIR=/artifact/maven/redirect\n\n# Read in Complete Set of Coordinates from the Command Line\nGROUP_ID=\nARTIFACT_ID=\nVERSION=\"LATEST\"\nCLASSIFIER=\"\"\nPACKAGING=tar.gz\nREPO=\"candidates\"\nVERBOSE=0\n\nwhile getopts \"hvi:c:p:\" OPTION\ndo\n     case $OPTION in\n         h)\n             usage\n             exit 1\n             ;;\n         i)\n\t     OIFS=$IFS\n             IFS=\":\"\n\t     GAV_COORD=( $OPTARG )\n\t     GROUP_ID=$${GAV_COORD[0]}\n             ARTIFACT_ID=$${GAV_COORD[1]}\n             VERSION=$${GAV_COORD[2]}\n\t     IFS=$OIFS\n             ;;\n         c)\n             CLASSIFIER=$OPTARG\n             ;;\n         p)\n             PACKAGING=$OPTARG\n             ;;\n         v)\n             VERBOSE=1\n             ;;\n         ?)\n             usage\n             exit\n             ;;\n     esac\ndone\n\nif [[ -z $GROUP_ID ]] || [[ -z $ARTIFACT_ID ]] || [[ -z $VERSION ]]\nthen\n     echo \"BAD ARGUMENTS: Either groupId, artifactId, or version was not supplied\" \u003e\u00262\n     usage\n     exit 1\nfi\n\n# Construct the base URL\nREDIRECT_URL=$${NEXUS_BASE}$${REST_PATH}$${ART_REDIR}\n\n# Generate the list of parameters\nPARAM_KEYS=( g a v r p c )\nPARAM_VALUES=( $GROUP_ID $ARTIFACT_ID $VERSION $REPO $PACKAGING $CLASSIFIER )\nPARAMS=\"\"\nfor index in $${!PARAM_KEYS[*]}\ndo\n  if [[ $${PARAM_VALUES[$index]} != \"\" ]]\n  then\n    PARAMS=\"$${PARAMS}$${PARAM_KEYS[$index]}=$${PARAM_VALUES[$index]}\u0026\"\n  fi\ndone\n\nREDIRECT_URL=\"$${REDIRECT_URL}?$${PARAMS}\"\n\necho \"Fetching Artifact from $REDIRECT_URL...\" \u003e\u00262\ncurl -sS -L $${REDIRECT_URL}\nEOF\n    # Run script to download latest Ansible artifact and unpack\n    chmod +x /tmp/get_nexus_artifact.sh\n    /tmp/get_nexus_artifact.sh -i com.jivesoftware.techops:ansible-common:LATEST \u003e /tmp/ansible-common.tar.gz\n}\n\nfunction_ansible() {\n    # Need Sudo TTY\n    sed -i s/'Defaults    requiretty'/'#Defaults    requiretty'/ /etc/sudoers\n    # Disable SELINUX for SSSD\n    sed -i 's/^SELINUX=.*/SELINUX=disabled/' /etc/selinux/config\n    # Create Ansible working directories\n    mkdir -p /tmp/ansible-common\n    tar xf /tmp/ansible-common.tar.gz -C /tmp/ansible-common/\n    # Set Python to 2.6 and run Ansible locally\n    alternatives --set python /usr/bin/python2.6\n    yum install -y python-boto ansible\n\n    # Run Ansible\n    /tmp/ansible-common/bin/run_ansible.sh /tmp/ansible-common/playbook-bastion.yml -e region=${region} --connection=local -i /tmp/ansible-common/inventory_ec2/ \u003e\u003e /tmp/ansible-common/ansible_debug.log\n\n    # Change permissions on Ansible artifact so that ansible deploy pipeline\n    # can overwrite them in the future\n    chown -R ansible:service-users /tmp/ansible-common /tmp/ansible-common.tar.gz\n}\n\nfunction_restart() {\n    # Need to restart for SELINUX change.\n    shutdown -r now\n}\n\n# Run the things\nfunction_prep\nfunction_eni\nfunction_network\nfunction_nexus\nfunction_ansible\nfunction_restart\n",
                            "vars.%": "5",
                            "vars.account_name": "jive-data-pipeline",
                            "vars.bastion_ip": "10.127.22.7",
                            "vars.eni": "eni-5857708b",
                            "vars.pipeline_phase": "infra-pipeline",
                            "vars.region": "us-east-1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        }
    ]
}
